=== Building a PetaLinux Image for the APU

==== Setup the Build Environment

[source,  bash]
----
$ sudo apt update
$ sudo apt install git git-lfs python3 uv
----

==== Clone the Repository

[source,  bash]
----
$ git clone https://github.com/spacecubics/meta-scobc
$ cd meta-scobc
----

NOTE: `meta-scobc` uses {git-lfs}[Git Large File Storage (Git
LFS)]. Make sure you install it.

==== Install and enable the required Python packages

[source,  bash]
----
$ uv sync
$ source .venv/bin/activate
----

==== Build the minimal image

[source,  bash]
----
$ kas build kas/scobc-v1.yml
----

`build/tmp/deploy/images/scobc-v1/` will contain the generated image files.

[source,  bash]
----
$ ls -l build/tmp/deploy/images/scobc-v1/*wic
build/tmp/deploy/images/scobc-v1/sc-image-minimal-scobc-v1-yyyyMMddHHmmss.wic
build/tmp/deploy/images/scobc-v1/sc-image-minimal-scobc-v1.wic@
----

NOTE: `sc-image-minimal-scobc-v1.wic` is a symlink to the latest build.

==== Build with New XSA File

When you update Versal configuration or add FPGA logic, you must
update the XSA file with your own. `meta-scobc` has a XSA file at the
following path:

[source]
----
meta-scobc/meta-scobc-v1/recipes-bsp/hdf/files/sc_obc_v1_versal.xsa
----
